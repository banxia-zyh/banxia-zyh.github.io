(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{515:function(a,v,t){"use strict";t.r(v);var _=t(4),s=Object(_.a)({},(function(){var a=this,v=a.$createElement,t=a._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"jvm是什么"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jvm是什么"}},[a._v("#")]),a._v(" JVM是什么")]),a._v(" "),t("blockquote",[t("p",[t("em",[t("strong",[a._v("JVM（Java Virtual Machine）是 Java 虚拟机，用于运行 Java 编译后的二进制字节码，最后生成机器指令。")])])])]),a._v(" "),t("p",[t("strong",[a._v("JVM 是 Java 能够跨平台的核心")])]),a._v(" "),t("h2",{attrs:{id:"jdk、jre、jvm三者的关系"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jdk、jre、jvm三者的关系"}},[a._v("#")]),a._v(" JDK、JRE、JVM三者的关系")]),a._v(" "),t("blockquote",[t("p",[a._v("JDK ：(Java Development Kit)，Java 开发工具包。JDK 是整个 Java 开发的核心，集成了 JRE 和javac.exe，java.exe，jar.exe 等工具。")])]),a._v(" "),t("blockquote",[t("p",[a._v("JRE ：(Java Runtime Environment），Java 运行时环境。主要包含两个部分，JVM 的标准实现和 Java 的一些基本类库。它相对于 JVM 来说，多出来的是一部分的 Java 类库。")])]),a._v(" "),t("p",[a._v("三者的关系：三者是层层包含的关系，jdk包含jre，jre包含jvm。")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/banxia-zyh/img/img/20210711220446.png",alt:"img"}})]),a._v(" "),t("h2",{attrs:{id:"jvm所在的位置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jvm所在的位置"}},[a._v("#")]),a._v(" JVM所在的位置")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/banxia-zyh/img/img/20210711220547.png",alt:"img"}})]),a._v(" "),t("p",[a._v("JVM是运行在操作系统之上的，它与硬件没有直接的交互。")]),a._v(" "),t("h2",{attrs:{id:"一些jvm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一些jvm"}},[a._v("#")]),a._v(" 一些JVM")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("SUN Classic")])]),a._v(" "),t("li",[t("p",[a._v("Exact VM")])]),a._v(" "),t("li",[t("p",[a._v("HotSpot VM ：HotSpot指热点代码探测技术")])]),a._v(" "),t("li",[t("p",[a._v("BEA JRockit：(BEA 已被Oracle收购) 专注于服务端应用，世界最快的jvm之一")])]),a._v(" "),t("li",[t("p",[a._v("IBM J9")])]),a._v(" "),t("li",[t("p",[a._v("Taobao JVM: 目前已经在淘宝、天猫上线，替换了Oracle官方JVM；")])]),a._v(" "),t("li",[t("p",[a._v("Graal VM: Oracle 2018年4月公开，口号 Run Programs Faster Anywhere.最可能替代HotSpot的产品")])])]),a._v(" "),t("p",[a._v("SUN的JDK版本从1.3.1开始运用HotSpot虚拟机")]),a._v(" "),t("h2",{attrs:{id:"java代码执行流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java代码执行流程"}},[a._v("#")]),a._v(" Java代码执行流程")]),a._v(" "),t("p",[a._v("java程序--（编译）--\x3e字节码文件--（解释执行）--\x3e操作系统（Win，Linux，Mac JVM）")]),a._v(" "),t("p",[a._v("类装载：加载--\x3e链接--\x3e初始化")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/banxia-zyh/img/img/20210711221724.png",alt:"image-20210711221724637"}})]),a._v(" "),t("p",[a._v("其实不论是在开发工具中运行还是在 Tomcat 中运行，Java 程序的执行流程"),t("strong",[a._v("基本都是相同的")]),a._v("，它的执行流程如下：")]),a._v(" "),t("ul",[t("li",[a._v("先把"),t("strong",[a._v("Java代码编译成字节码文件")]),a._v("，也就是"),t("strong",[a._v("把.java文件编译成.class类型文件")]),a._v("。这个过程的大致执行流程：Java 源代码 -> 词法分析器 -> 语法分析器 -> 语义分析器 -> 字节码生成器 -> 最终生成字节码，其中任何一个节点执行失败就会造成编译失败；")]),a._v(" "),t("li",[t("strong",[a._v("把 class 文件放置到 Java 虚拟机")]),a._v("中，（这个虚拟机通常指的是 Oracle 官方自带的 Hotspot "),t("strong",[a._v("JVM")]),a._v("；）"),t("strong",[a._v("Java 虚拟机使用类加载器（Class Loader）装载 class 文件；")])]),a._v(" "),t("li",[a._v("类加载完成之后，会进行"),t("strong",[a._v("字节码校验")]),a._v("，字节码校验通过之后 "),t("strong",[a._v("JVM 解释器会把字节码翻译成机器码交由操作系统执行")]),a._v("。但不是"),t("strong",[a._v("所有代码都是解释执行")]),a._v("的，JVM 对此做了优化，比如，以 Hotspot 虚拟机来说，它本身提供了 JIT（Just In Time）也就是我们通常所说的动态编译器，它能够在运行时将"),t("strong",[a._v("热点代码")]),a._v("编译为机器码，这个时候"),t("strong",[a._v("字节码就变成了编译执行")]),a._v("。")])]),a._v(" "),t("p",[t("strong",[a._v("Java 程序执行流程图如下：")])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/banxia-zyh/img/img/20210711222441.jpeg",alt:"img"}})]),a._v(" "),t("h2",{attrs:{id:"jvm生命周期"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jvm生命周期"}},[a._v("#")]),a._v(" jvm生命周期")]),a._v(" "),t("h3",{attrs:{id:"_1-启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-启动"}},[a._v("#")]),a._v(" 1.启动")]),a._v(" "),t("p",[a._v("通过引导类加载器（bootstrap class loader）创建一个初始类（initial class）来完成的，这个类是由虚拟机的具体实现指定的.")]),a._v(" "),t("h3",{attrs:{id:"_2-执行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-执行"}},[a._v("#")]),a._v(" 2.执行")]),a._v(" "),t("ul",[t("li",[a._v("一个运行中的java虚拟机有着一个清晰的任务：执行Java程序；")]),a._v(" "),t("li",[a._v("程序开始执行的时候他才运行，程序结束时他就停止；")]),a._v(" "),t("li",[a._v("执行一个所谓的Java程序的时候，真真正正在执行的是一个叫做Java虚拟机的进程。")])]),a._v(" "),t("h3",{attrs:{id:"_3-退出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-退出"}},[a._v("#")]),a._v(" 3.退出")]),a._v(" "),t("ul",[t("li",[a._v("程序正常执行结束")]),a._v(" "),t("li",[a._v("程序异常或错误而异常终止")]),a._v(" "),t("li",[a._v("操作系统错误导致终止")]),a._v(" "),t("li",[a._v("某线程调用Runtime类或System类的exit方法，或Runtime类的halt方法，并且java安全管理器也允许这次exit或halt操作")]),a._v(" "),t("li",[a._v("除此之外，JNI规范描述了用JNI Invocation API来加载或卸载Java虚拟机时，Java虚拟机的退出情况")])])])}),[],!1,null,null,null);v.default=s.exports}}]);